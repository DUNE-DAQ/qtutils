package QTUtils

use ers

private
use Qt4    * TDAQExternal
#-------------------------------------------------------------------------------
# QT based RC commander
#-------------------------------------------------------------------------------

#### Generation of mocs
#### This can be used to generate the mocs from .h files.
#### To be used when you have your own class inherited from QObject
#### and you need to generate the Meta Object Compiler file(s)
#### Usage:
####    [apply_pattern] qt_mocgen name=myMocs dir=../src files="file1.h file2.h"
####    Will create the moc files file1.moc.cpp file2.moc.cpp that will be located in
####    $(bin).
#### You need to make your application depending on myMocs and add the mocs file1.moc.cpp,
#### file2.moc.cpp to the list of sources of your application
make_fragment moc_header
make_fragment moc -header=moc_header -suffix=moc.cpp

pattern qt_mocgen \
 document moc <name> -s=<dir> <files>
                    
qt_mocgen name=mocs dir=../QTUtils files="highlighter.h FilterTextEdit.h qdebugstream.h"

library  qtutils $(lib_opts) "highlighter.cpp $(bin)highlighter.moc.cpp $(bin)FilterTextEdit.moc.cpp qdebugstream.cpp $(bin)qdebugstream.moc.cpp"
macro qtutils_dependencies "mocs"

                                        
macro  qt_linkopts   " -lQtCore"

#installation
apply_pattern install_libs files="libqtutils.so"
